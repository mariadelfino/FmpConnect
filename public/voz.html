<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SenaChat - Converse por voz com seu assistente virtual">
    <meta name="theme-color" content="#3B018A">
    <title>SenaChat - Conversa por Voz</title>
    
    <!-- Google Fonts - Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="./assets/css/reset.css">
    <link rel="stylesheet" href="./assets/css/variables.css">
    <link rel="stylesheet" href="./assets/css/voz.css">
    
    <!-- Import Map para módulos ES6 -->
    <script type="importmap">
    {
        "imports": {
            "@google/genai": "https://esm.sh/@google/genai@1.15.0/web"
        }
    }
    </script>
</head>
<body>
    <!-- Página de Conversa por Voz -->
    <main class="pagina-voz">
        <!-- Cabeçalho -->
        <header class="cabecalho-voz">
            <button 
                class="botao-voltar" 
                aria-label="Voltar para página inicial"
                type="button">
                <svg width="10" height="19" viewBox="0 0 10 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.25667 17.8117L0.75 9.28083L9.25667 0.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>

            <h1 class="logo-voz">SenaChat</h1>

            <button 
                class="botao-acessibilidade" 
                aria-label="Opções de acessibilidade"
                type="button">
                <svg version="1.1" id="acessibilidade_onu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" style="enable-background:new 0 0 1000 1000;" xml:space="preserve">
	                <style type="text/css">
                        .c1 {fill: none;}
                        .c2 {fill: #53C2EE;}
                        .c1,.c2 {stroke: #000;stroke-miterlimit: 10;stroke-width: 32.8947px;}
                    </style>
                    <g id="limbs" class="c1">
                        <path id="arms" d="M105.7,408.6c0,0,393.3,238.2,786.6,0"/>
                        <line id="right_leg" x1="739.6" y1="876.6" x2="500" y2="520.2"/>
                        <line id="left_leg"  x1="260.2" y1="876.6" x2="500" y2="520.2"/>
                    </g>
                    <g id="circles" class="c2" >
                        <circle id="head"       cx="500"   cy="284.3" r="114.9"/>
                        <circle id="right_hand" cx="932.2" cy="374.1" r="51.3"/>
                        <circle id="left_hand"  cx="67.6"  cy="374.1" r="51.3"/>
                        <circle id="right_foot" cx="739.6" cy="876.6" r="51.3"/>
                        <circle id="left_foot"  cx="260.2" cy="876.6" r="51.3"/>
                    </g>
                    <g id="arcs">
                        <path id="right_arc" d="M807.6,802.4c8.2,7.5,15.1,16.3,20.5,26.1c87.3-87,136.2-205.3,135.9-328.6c0-10.1-0.4-20.1-1-30.1
                            c-9.9,3.2-20.3,4.8-30.8,4.8c-0.6,0-1.3,0-1.9,0c0.5,8.4,0.8,16.8,0.8,25.3C931.3,613.1,887,721.8,807.6,802.4z"/>
                        <path id="bottom_arc" d="M498.6,932.4c-48.7,0.1-97-8.1-143-24.1c-3.5,10.6-8.8,20.5-15.5,29.4c103.1,37,216,36.8,319-0.7
                            c-6.7-8.9-11.8-18.9-15.2-29.5C597.2,924,548.1,932.4,498.6,932.4z"/>
                        <path id="left_arc" d="M67,474.7c-11.1-0.1-22.1-2-32.6-5.6c-0.7,10.2-1,20.5-1,30.9C33,623.5,82.1,741.9,169.6,829
                            c0.4,0.4,0.8,0.8,1.2,1.2c5.2-9.9,11.9-18.9,20-26.5C110.8,723,66,613.7,66.3,500C66.3,491.5,66.5,483.1,67,474.7z"/>
                        <path id="top_arc" d="M827.6,171c-181.7-181.7-476.3-181.7-658,0c0,0,0,0,0,0c-31.2,31.1-57.8,66.5-79.1,105.2
                            c10.8,2.5,21.1,6.8,30.5,12.7c19.5-34.7,43.7-66.5,71.8-94.6c168.9-168.9,442.6-168.9,611.5,0c0,0,0,0,0,0
                            c28.5,28.4,52.9,60.7,72.5,95.8c9.2-6.1,19.4-10.6,30.2-13.4C885.7,237.9,859,202.3,827.6,171z"/>
                        </g>
                </svg>
            </button>
        </header>

        <!-- Área de Mensagens/Transcrição -->
        <section class="area-conversa" aria-live="polite" aria-atomic="true">
            <div class="container-mensagens" id="containerMensagens">
                <!-- Mensagens aparecerão aqui dinamicamente -->
                <div class="mensagem-inicial">
                    <p class="texto-inicial">Toque no microfone e comece a falar</p>
                </div>
            </div>
        </section>

        <!-- Controle de Voz -->
        <section class="area-controle-voz">
            <div class="indicador-audio" id="indicadorAudio" aria-hidden="true">
                <div class="onda-audio"></div>
                <div class="onda-audio"></div>
                <div class="onda-audio"></div>
                <div class="onda-audio"></div>
                <div class="onda-audio"></div>
            </div>

            <button 
                class="botao-microfone" 
                id="botaoMicrofone"
                aria-label="Pressione para falar"
                type="button">
                <div class="circulo-externo"></div>
                <div class="circulo-interno">
                    <svg class="icone-microfone" width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M25 32.2916C29.6041 32.2916 33.3333 28.5625 33.3333 23.9583V12.5C33.3333 7.89579 29.6041 4.16663 25 4.16663C20.3958 4.16663 16.6666 7.89579 16.6666 12.5V23.9583C16.6666 28.5625 20.3958 32.2916 25 32.2916Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9.0625 20.1042V23.6459C9.0625 32.4376 16.2083 39.5834 25 39.5834C33.7917 39.5834 40.9375 32.4376 40.9375 23.6459V20.1042" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M22.1041 13.3959C23.9791 12.7084 26.0208 12.7084 27.8958 13.3959" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M23.3334 17.8124C24.4375 17.5207 25.5834 17.5207 26.6875 17.8124" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M25 39.5834V45.8334" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </button>

            <p class="status-gravacao" id="statusGravacao">Toque para falar</p>
        </section>

        <!-- Botão para alternar para chat de texto -->
        <div class="area-alternar">
            <a href="./chat.html" class="link-alternar-modo">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 9H16M8 13H14M21 12C21 16.9706 16.9706 21 12 21C10.2305 21 8.58411 20.4568 7.21045 19.5278L3 21L4.47222 16.7896C3.54317 15.4159 3 13.7695 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Conversar por texto</span>
            </a>
        </div>
    </main>

    <!-- Scripts -->
    <script type="module" src="./assets/js/voz.js"></script>
</body>
</html>
